{% extends "base_content.html" %}
{% block container %}
  <h1>Statement Inspector</h1>
  <form action="?" method="GET">
    <select name="llpnr">
      {% for l in llps %}
        <option value="{{l.number}}" {% if llpnr == l.number%}selected="selected"{% endif %}>
          {{l}}
        </option>
      {% endfor %}
    </select>
    <select name="debate_nr">
      <option value="">-</option>
      {% for d in debates %}
        <option value="{{d.nr}}" {% if debate.id == d.id%}selected="selected"{% endif %}>{{d}}</option>
      {% endfor %}
    </select>
    <label>Display orig.<input type="checkbox" name="show_orig" {% if show_orig%}checked="checked"{% endif %}/></label>
    <input type="submit" value="query"/>
  </form>
  <div>
    {% if debate %}
      <h2>{{debate.title}} <small>LLP{{llpnr}}, {{debate.date}}</small></h2>
      <a href="{{debate.protocol_url}}">{{debate.protocol_url}}</a>
      <table>
      {% for stmt in statements %}
        <tr>
          <td>
            <a name="{{stmt.model.index}}"></a>
            <a href="#{{stmt.model.index}}">#{{stmt.model.index}}</a>,
            <label>speaker id</label> {{stmt.model.person_id}},
            <label>text type</label> {{stmt.model.text_type}},
            <label>speaker role</label> {{stmt.model.speaker_role}},
            Pages {{stmt.model.page_start}} - {{stmt.model.page_end}}</td>
          <td>{{stmt.model.date}} - {{stmt.model.date_end}}({{stmt.model.time_start}} - {{stmt.model.time_end}})</td>
          {%if show_orig %}<td></td>{% endif %}
        </tr>
        <tr>
          <td width="30%">
            <pre style="white-space:pre-line">
{{stmt.annotated}}
            </pre>
          </td>
          <td width="30%">
            <pre style="white-space:pre-line">
{{stmt.clean}}
            </pre>
          </td>
          {%if show_orig %}
          <td width="30%">
            <div>{{stmt.orig}}</div>
          </td>
          {% endif %}
        </tr>
      {% endfor %}
      </table>
    {% endif %}
  </div>

{% endblock %}

